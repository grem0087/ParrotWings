(function(n){"use strict";n.module("transactions").controller("HomeCtrl",["$scope","$location","authService","commonServices",function(n,t,i,r){n.Loader=r.Loader;n.logOut=function(){t.path("/signout")};n.authentication=i.authentication;n.authentication.isAuth&&t.path("/transactions")}])})(angular),function(n){"use strict";n.module("transactions").controller("MakeTransactionCtrl",["$scope","$http","constants","authService","SweetAlert","$location","commonServices",function(n,t,i,r,u,f,e){n.Loader=e.Loader;n.model={};n.loadedTransaction&&(n.Recipient=n.loadedTransaction.Recipient.name,n.model.Amount=n.loadedTransaction.Amount,n.model.RecipientId=n.loadedTransaction.Recipient.id);n.cancel=function(){n.transactionsPage.page="index"};n.makeTransaction=function(){n.model.PayeeId=n.user.Id;n.Loader.isLoading=!0;t.post(i.urls.makeTransaction,n.model).then(function(t){n.Loader.isLoading=!1;t.data.isSuccess?u.success("Success!","Transaction successful completed!",function(){n.transactionsPage.page=""}):u.error("Error!",t.data)})};n.onSelect=function(t){n.model.RecipientId=t.id};n.getUsers=function(n){return t.get(i.controls.urls.userAutocomplete,{params:{input:n}}).then(function(n){return n.data.data.map(function(n){return n})})}}])}(angular),function(n){"use strict";n.module("transactions").controller("TransactionsCtrl",["$scope","$http","constants","authService","commonServices",function(n,t,i,r,u){function e(){n.Loader.isLoading=!0;t.get(i.urls.getLastTransactions,{params:{userId:f}}).then(function(t){n.Items=t.data.data.transactions;n.Loader.isLoading=!1})}n.transactionsPage={page:null};n.Loader=u.Loader;n.Items=[];n.user={Name:r.authentication.userName,Id:r.authentication.userId};var f=n.user.Id;e();t.get(i.urls.getBalance,{params:{userId:f}}).then(function(t){n.user.balance=t.data.data});n.repeatTransaction=function(t,i){n.loadedTransaction={Recipient:t,Amount:i};n.transactionsPage.page="makeTransaction"};n.openTransactionPage=function(){delete n.loadedTransaction;n.transactionsPage.page="makeTransaction"}}])}(angular);